{"version":3,"file":"my-storefront/js/main.min.js","mappings":"AACAA,SAASC,iBAAiB,oBAE1B,YAQA,SAAwBC,GAEpB,MAAMC,EAAiBH,SAASI,eAAe,mBACzCC,EAAoBL,SAASI,eAAe,kBAC5CE,EAAmBN,SAASI,eAAe,kBAC5CC,GAAsBC,IAE3BD,EAAkBE,QAAUD,EAAiBC,QAAUC,iBACnD,MAAMC,EAAmC,SAAzBC,KAAKC,QAAQF,QACvBG,QAAiBC,MAAM,mBAAoB,CAC7CC,OAAQ,OACRC,QAAS,CACL,eAAgB,mBAChB,eAAgBb,GAEpBc,KAAMC,KAAKC,UAAU,CAAET,cAGvBG,EAASO,IAEY,WADFP,EAASQ,QACnBX,QACLY,SAASC,SAETnB,EAAeoB,eAGAX,EAASQ,MAGpC,EAEJ,CAnCII,CAFcxB,SAASyB,cAAc,qBAAqBC,QAI9D,GARsD,CAAEC,MAAM","sources":["webpack://website/./custom/my-storefront/assets/js/main.js"],"sourcesContent":["console.log('Hello World!');\r\ndocument.addEventListener('DOMContentLoaded', initJS, { once: true });\r\n\r\nfunction initJS() {\r\n\r\n    const token = document.querySelector('meta[name=\"csrf\"]').content;\r\n\r\n    cookiesConsent(token);\r\n\r\n}\r\n\r\nfunction cookiesConsent(token) {\r\n\r\n    const cookiesMessage = document.getElementById('cookies_consent');\r\n    const btnCookiesConsent = document.getElementById('accept_cookies');\r\n    const btnCookiesReject = document.getElementById('reject_cookies');\r\n    if (!btnCookiesConsent || !btnCookiesReject) return;\r\n\r\n    btnCookiesConsent.onclick = btnCookiesReject.onclick = async function () {\r\n        const consent = this.dataset.consent === 'true' ? true : false;\r\n        const response = await fetch('/cookies/consent', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'X-CSRF-Token': token\r\n            },\r\n            body: JSON.stringify({ consent })\r\n        });\r\n\r\n        if (response.ok) {\r\n            const data = await response.json();\r\n            if (data.consent === true) {\r\n                location.reload();\r\n            } else {\r\n                cookiesMessage.remove();\r\n            }\r\n        } else {\r\n            const data = await response.json();\r\n            console.error(data.message);\r\n        }\r\n    }\r\n\r\n}"],"names":["document","addEventListener","token","cookiesMessage","getElementById","btnCookiesConsent","btnCookiesReject","onclick","async","consent","this","dataset","response","fetch","method","headers","body","JSON","stringify","ok","json","location","reload","remove","cookiesConsent","querySelector","content","once"],"sourceRoot":""}